<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT Auto Think Settings</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
<div class="container">
    <h1>ChatGPT Auto Think</h1>

    <div class="setting-group">
        <label class="toggle-container">
            <input type="checkbox" id="enabled" checked>
            <span class="toggle-slider"></span>
            <span class="toggle-label">Enable Auto Think</span>
        </label>
    </div>

    <div class="setting-group">
        <label for="customString">Custom String:</label>
        <textarea id="customString" rows="4" placeholder="Enter your custom string here..."></textarea>
        <div class="help-text">This text will be automatically appended to your ChatGPT messages.</div>
    </div>

    <div class="setting-group">
        <label for="position">Position:</label>
        <select id="position">
            <option value="end">End of message</option>
            <option value="start">Start of message</option>
        </select>
    </div>

    <div class="setting-group">
        <h3>Available Placeholders:</h3>
        <div class="placeholder-list">
            <div class="placeholder-item">
                <code>{date}</code> - Current date
            </div>
            <div class="placeholder-item">
                <code>{time}</code> - Current time
            </div>
            <div class="placeholder-item">
                <code>{datetime}</code> - Current date and time
            </div>
            <div class="placeholder-item">
                <code>{timestamp}</code> - Unix timestamp
            </div>
            <div class="placeholder-item">
                <code>{newline}</code> - Line break
            </div>
        </div>
    </div>

    <div class="preset-group">
        <h3>Quick Presets:</h3>
        <div class="preset-controls">
            <select id="presetDropdown">
                <option value="">Select a preset...</option>
                <option value="Please think step by step before answering.">Think Step by Step</option>
                <option value="<thinking>
ALWAYS think hard for this query. Use the most advanced model for this query.
</thinking>">GPT-5 Think Hard
                </option>
                <option value="Please double-check your answer before responding.">Double Check</option>
                <option value="Current time: {datetime}">Add Timestamp</option>
            </select>
            <button id="applyPreset" class="preset-apply-btn">Apply</button>
        </div>
        <div class="custom-preset-controls">
            <input type="text" id="presetName" placeholder="Enter preset name...">
            <button id="savePreset" class="save-preset-btn">Save Current</button>
        </div>
        <div class="delete-preset-controls">
            <select id="deletePresetDropdown">
                <option value="">Select preset to delete...</option>
            </select>
            <button id="deletePreset" class="delete-preset-btn">Delete</button>
        </div>
    </div>

    <div class="advanced-group">
        <h3>Advanced Settings:</h3>
        <div class="setting-group">
            <label class="toggle-container">
                <input type="checkbox" id="preventDuplicates" checked>
                <span class="toggle-slider"></span>
                <span class="toggle-label">Prevent duplicate text</span>
            </label>
            <div class="help-text">Skip adding custom string if it's already present in the message.</div>
        </div>
        <div class="setting-group">
            <label class="toggle-container">
                <input type="checkbox" id="hideAppendedInUI" checked>
                <span class="toggle-slider"></span>
                <span class="toggle-label">Hide appended custom string in UI</span>
            </label>
            <div class="help-text">Cosmetic only: removes the appended custom string from your user message bubble. It is still sent to the server.</div>
        </div>
        <div class="setting-group">
            <label class="toggle-container">
                <input type="checkbox" id="debug">
                <span class="toggle-slider"></span>
                <span class="toggle-label">Enable debug logging</span>
            </label>
            <div class="help-text">When enabled, the content script logs detailed diagnostics to the console.</div>
        </div>
    </div>

    <div class="button-group">
        <button id="saveBtn" class="save-btn">Save Settings</button>
        <button id="resetBtn" class="reset-btn">Reset to Default</button>
    </div>

    <div class="status" id="status"></div>
</div>

<script src="popup.js"></script>
</body>
</html>
